"use strict";(self.webpackChunkAdmin=self.webpackChunkAdmin||[]).push([[6827],{6827:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var p=t(3396),s=t(4870),r=t(4750),o=t.n(r);const i={class:"cropper"},c={class:"cropper__img"},l=["src"],n={class:"cropper__preview"},u=(e=>((0,p.dD)("data-v-59ac87f2"),e=e(),(0,p.Cn)(),e))((()=>(0,p._)("h4",null,"图像预览",-1)));var v={props:{src:{type:String,default:""},compress:{type:Number,default:1},aspectRatio:{type:Number,default:NaN}},setup(e,{expose:a}){const t=e,r=(0,s.iH)(null),v=(0,s.iH)(null),d=(0,s.iH)(null);return(0,p.YP)((()=>t.aspectRatio),(e=>d.value.setAspectRatio(e))),(0,p.bv)((()=>{d.value=new(o())(v.value,{viewMode:2,dragMode:"move",responsive:!1,aspectRatio:t.aspectRatio,preview:r.value})})),a({getCropData:function(e,a="image/jpeg"){e(d.value.getCroppedCanvas().toDataURL(a,t.compress))},getCropBlob:function(e,a="image/jpeg"){d.value.getCroppedCanvas().toBlob((a=>e(a)),a,t.compress)},getCropFile:function(e,a="fileName.jpg",p="image/jpeg"){d.value.getCroppedCanvas().toBlob((t=>{let s=new File([t],a,{type:p});e(s)}),p,t.compress)},setAspectRatio:function(e){d.value.setAspectRatio(e)}}),(a,t)=>((0,p.wg)(),(0,p.iD)("div",i,[(0,p._)("div",c,[(0,p._)("img",{src:e.src,ref_key:"imgRef",ref:v},null,8,l)]),(0,p._)("div",n,[u,(0,p._)("div",{class:"cropper__preview__img",ref_key:"previewRef",ref:r},null,512)])]))}},d=(0,t(89).Z)(v,[["__scopeId","data-v-59ac87f2"]])}}]);