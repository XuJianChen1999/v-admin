"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[1869],{1869:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var p=a(3396),s=a(4870),o=a(255),r=a.n(o);const i={class:"cropper"},l={class:"cropper__img"},c=["src"],n={class:"cropper__preview"},u=(e=>((0,p.dD)("data-v-1f3b9096"),e=e(),(0,p.Cn)(),e))((()=>(0,p._)("h4",null,"图像预览",-1)));var v={props:{src:{type:String,default:""},compress:{type:Number,default:1},aspectRatio:{type:Number,default:NaN}},setup(e,{expose:t}){const a=e,o=(0,s.iH)(null),v=(0,s.iH)(null),d=(0,s.iH)(null);return(0,p.YP)((()=>a.aspectRatio),(e=>d.value.setAspectRatio(e))),(0,p.bv)((()=>{d.value=new(r())(v.value,{viewMode:2,dragMode:"move",responsive:!1,aspectRatio:a.aspectRatio,preview:o.value})})),t({getCropData:function(e,t="image/jpeg"){e(d.value.getCroppedCanvas().toDataURL(t,a.compress))},getCropBlob:function(e,t="image/jpeg"){d.value.getCroppedCanvas().toBlob((t=>e(t)),t,a.compress)},getCropFile:function(e,t="fileName.jpg",p="image/jpeg"){d.value.getCroppedCanvas().toBlob((a=>{let s=new File([a],t,{type:p});e(s)}),p,a.compress)},setAspectRatio:function(e){d.value.setAspectRatio(e)}}),(t,a)=>((0,p.wg)(),(0,p.iD)("div",i,[(0,p._)("div",l,[(0,p._)("img",{src:e.src,ref_key:"imgRef",ref:v},null,8,c)]),(0,p._)("div",n,[u,(0,p._)("div",{class:"cropper__preview__img",ref_key:"previewRef",ref:o},null,512)])]))}},d=(0,a(89).Z)(v,[["__scopeId","data-v-1f3b9096"]])}}]);