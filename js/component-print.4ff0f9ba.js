"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[731],{9e3:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var o=n(3396),i=n(4870);const r=function(e,t){if(!(this instanceof r))return new r(e,t);if(this.options=this.extend({noPrint:".no-print"},t),"string"==typeof e)try{this.dom=document.querySelector(e)}catch{var n=document.createElement("div");n.innerHTML=e,this.dom=n}else this.isDOM(e),this.dom=this.isDOM(e)?e:e.$el;this.init()};r.prototype={init:function(){var e=this.getStyle()+this.getHtml();this.writeIframe(e)},extend:function(e,t){for(var n in t)e[n]=t[n];return e},getStyle:function(){for(var e="",t=document.querySelectorAll("style,link"),n=0;n<t.length;n++)e+=t[n].outerHTML;return(e+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>")+"<style>html,body{background-color:#fff;}</style>"},getHtml:function(){for(var e=document.querySelectorAll("input"),t=document.querySelectorAll("textarea"),n=document.querySelectorAll("select"),o=0;o<e.length;o++)"checkbox"==e[o].type||"radio"==e[o].type?1==e[o].checked?e[o].setAttribute("checked","checked"):e[o].removeAttribute("checked"):(e[o].type,e[o].setAttribute("value",e[o].value));for(var i=0;i<t.length;i++)"textarea"==t[i].type&&(t[i].innerHTML=t[i].value);for(var r=0;r<n.length;r++)if("select-one"==n[r].type){var l=n[r].children;for(var c in l)"OPTION"==l[c].tagName&&(1==l[c].selected?l[c].setAttribute("selected","selected"):l[c].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(e){var t,n,o=document.createElement("iframe"),i=document.body.appendChild(o);o.id="myIframe",o.setAttribute("style","position:absolute;width:0;height:0;top:-10px;left:-10px;"),t=i.contentWindow||i.contentDocument,(n=i.contentDocument||i.contentWindow.document).open(),n.write(e),n.close();var r=this;o.onload=function(){r.toPrint(t),setTimeout((function(){document.body.removeChild(o)}),100)}},toPrint:function(e){try{setTimeout((function(){e.focus();try{e.document.execCommand("print",!1,null)||e.print()}catch(t){e.print()}e.close()}),10)}catch(e){console.log("err",e)}},isDOM:"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}};var l=r;const c=(0,o.Uk)("普通打印"),u=(0,o._)("div",{style:{height:"20px"}},null,-1),s={class:"item"},a=(0,o.Uk)(" 打印内容1 "),d=(0,o._)("p",{class:"no-print"},"忽略打印",-1),p=(0,o._)("div",{style:{"page-break-after":"always"}},null,-1),m=(0,o._)("div",{class:"item"},"打印内容2",-1),f=(0,o.Uk)("动态打印");var y={setup(e){const t=(0,i.iH)(null);function n(){const e=t.value;e&&l(e)}function r(){l("<h2>TITLE</h2><p>后创建的DOM结构</p>")}return(e,i)=>{const l=(0,o.up)("el-alert"),y=(0,o.up)("el-button"),h=(0,o.up)("el-icon-eleme-filled"),v=(0,o.up)("el-icon"),b=(0,o.up)("el-tab-pane"),w=(0,o.up)("el-tabs"),g=(0,o.up)("el-card"),k=(0,o.up)("ComWrapper");return(0,o.wg)(),(0,o.j4)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{shadow:"never"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{"tab-position":"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{label:"普通打印"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{title:"打印当前页面已存在的元素,如包含.no-print样式就忽略,分页打印就需要{page-break-after: always}控制",type:"success",style:{"margin-bottom":"20px"}}),(0,o.Wm)(y,{type:"primary",onClick:n},{default:(0,o.w5)((()=>[c])),_:1}),u,(0,o._)("div",{class:"printMain",ref_key:"printRef",ref:t},[(0,o._)("div",s,[a,(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h)])),_:1}),d]),p,m],512)])),_:1}),(0,o.Wm)(b,{label:"动态打印"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{title:"打印创建的DOM结构,适用于远程获取模板后打印",type:"success",style:{"margin-bottom":"20px"}}),(0,o.Wm)(y,{type:"primary",onClick:r},{default:(0,o.w5)((()=>[f])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}}}]);