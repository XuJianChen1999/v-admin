"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[8328],{8328:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var u=t(3396),i=t(9242),o=t(7139),l=t(4870);const c=["onContextmenu"],a={class:"contextmenu__menu"};var s={emits:["command","visibleChange"],setup(e,{expose:n,emit:t}){(0,u.JJ)("menuClick",(function(e){p(),t("command",e)}));const s=(0,l.iH)(null),v=(0,l.iH)(!1),f=(0,l.iH)(0),d=(0,l.iH)(0);function m(e){let n=s.value;n&&!n.contains(e.target)&&p()}function r(e){e.preventDefault(),v.value=!0,d.value=e.clientX+1,f.value=e.clientY+1,(0,u.Y3)((()=>{const n=s.value,t=e.clientX+1,u=e.clientY+1,i=window.innerWidth,o=window.innerHeight,l=n.offsetHeight,c=n.offsetWidth;d.value=t+c>i?i-c:t,f.value=u+l>o?u-l:u})),t("visibleChange",!0)}function p(){v.value=!1,t("visibleChange",!1)}return(0,u.YP)(v,(e=>{e?document.body.addEventListener("click",m,!0):document.body.removeEventListener("click",m,!0)})),n({openMenu:r,close:close,fun:function(){v.value=!0}}),(e,n)=>((0,u.wg)(),(0,u.j4)(i.uT,{name:"el-zoom-in-top"},{default:(0,u.w5)((()=>[(0,u.wy)((0,u._)("div",{ref_key:"contextmenuRef",ref:s,class:"contextmenu",style:(0,o.j5)({left:d.value+"px",top:f.value+"px"}),onContextmenu:(0,i.iM)(r,["prevent"])},[(0,u._)("ul",a,[(0,u.WI)(e.$slots,"default")])],44,c),[[i.F8,v.value]])])),_:3}))}},v=(0,t(89).Z)(s,[["__scopeId","data-v-eb565488"]])}}]);