"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[4590],{7214:function(e,t,r){r.d(t,{Ek:function(){return l},_y:function(){return o},dB:function(){return a},kD:function(){return u}}),r(1703);var n=r(4442);const o=()=>{let e=(new Date).getHours(),t="";return e>=0&&e<=10?t="早上好":e>10&&e<=14?t="中午好":e>14&&e<=18?t="下午好":e>18&&e<=24&&(t="晚上好"),t},l=e=>{if(!(0,n.Wl)(e))throw new Error("param must be a function, not "+typeof e);return e.toString().match(/function\s.*?\(([^)]*)\)/)[1].split(",").map((e=>e.replace(/\/\*.*\*\//,"").trim())).filter((e=>e))},u=()=>(new Date).getTime()+Math.random().toString(16).slice(2),a=e=>{if(!(0,n.hj)(e))throw new Error("params must be number, not "+typeof obj);return(e+="").includes(".")||(e+="."),e.replace(/(\d)(?=(\d{3})+\.)/g,(function(e,t){return t+","})).replace(/\.$/,"")}},3618:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var n=r(3396),o=r(4870),l=r(2807),u=r(5631),a=r(4442),i=r(7214);function c(e){if((0,a.kJ)(e))return e.length?e.reduce(((e,t)=>{const{menu:r,...n}=t;return e.concat(n,r&&r.length?c(r):[])}),[]):e;console.error(`${(0,i.Ek)(c)[0]} is not an array type`)}const d={class:"dialog-footer"},s=(0,n.Uk)("取消"),p=(0,n.Uk)("确定");var f={props:{modelValue:{type:Boolean,required:!0},title:{type:String,required:!0},type:{type:String,required:!0},roleId:{type:Number,required:!0},treeNodeKey:{type:String,default:"id"}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,a=(0,o.iH)(null),i=(0,o.iH)([]),f={children:"menu",label:"menuName"};function m(){t("update:modelValue",!1)}function y(){l.z8.success("成功，请到控制台查看选择的key"),console.log(a.value.getCheckedKeys()),m()}return(0,n.YP)((()=>r.roleId),(()=>{!async function(){const{flag:e,data:t}=await(0,u.E$)(r.roleId);e&&(i.value=t,"edit"===r.type&&a.value.setCheckedKeys(c(t).map((e=>e.id))))}()})),(t,r)=>{const o=(0,n.up)("el-tree"),l=(0,n.up)("el-button"),u=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.j4)(u,{"model-value":e.modelValue,title:e.title+"权限","before-close":m,"lock-scroll":""},(0,n.Nv)({default:(0,n.w5)((()=>[(0,n.Wm)(o,{style:{"max-height":"80vh","overflow-y":"scroll"},ref_key:"treeRef",ref:a,"empty-text":"暂无数据",data:i.value,props:f,"show-checkbox":"edit"===e.type,"node-key":e.treeNodeKey,accordion:"","check-strictly":""},null,8,["data","show-checkbox","node-key"])])),_:2},["edit"===e.type?{name:"footer",fn:(0,n.w5)((()=>[(0,n._)("span",d,[(0,n.Wm)(l,{onClick:m},{default:(0,n.w5)((()=>[s])),_:1}),(0,n.Wm)(l,{type:"primary",onClick:y},{default:(0,n.w5)((()=>[p])),_:1})])]))}:void 0]),1032,["model-value","title"])}}}}}]);